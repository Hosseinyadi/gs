# ๐ ุฑุงูููุง ุงุฌุฑุง ูพุฑูฺู Bil Flow

## ูุดฺฉู: ูุฑุงูุชโุงูุฏ ุฑู localhost ุจุงูุง ููโุขุฏ

### ุนูุช ุงุตู
ุจุนุฏ ุงุฒ `nvm use 22.9.0`ุ IDE/ุชุฑููุงู ุฏุงุฎู ูููุฒ ูุณุฑ Node ุฌุฏุฏ ุฑุง ููโุจูุฏ.

---

## โ ุฑุงู ุญู 1: ุงุณุชูุงุฏู ุงุฒ ูุงูโูุง Batch (ุณุฑุนโุชุฑู)

### ุจุฑุง ูุฑุงูุชโุงูุฏ:
1. ุฑู ูุงู `start-frontend.bat` (ุฏุฑ ููู ูพูุดู) ุฏูุจุงุฑ ฺฉูฺฉ ฺฉูุฏ
2. ฺฉ ุชุฑููุงู CMD ุจุงุฒ ูโุดูุฏ ู ุฎูุฏฺฉุงุฑ ูุตุจ ู ุงุฌุฑุง ูโฺฉูุฏ
3. ููฺฉ ุฑุง ุงุฒ ุชุฑููุงู ฺฉูพ ฺฉูุฏ ู ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ

### ุจุฑุง ุจฺฉโุงูุฏ:
1. ุฑู ูุงู `server/start-backend.bat` ุฏูุจุงุฑ ฺฉูฺฉ ฺฉูุฏ
2. ุจฺฉโุงูุฏ ุฑู ูพูุฑุช 8080 ุจุงูุง ูโุขุฏ

---

## โ ุฑุงู ุญู 2: ุชุฑููุงู ุฌุฏุฏ (ฺฉุงููโุชุฑู)

### ูุฑุญูู 1: ุจุณุชู IDE
- Visual Studio Code ุง ูุฑ IDE ุฏฺฏุฑ ุฑุง ฺฉุงูู ุจุจูุฏุฏ
- ููู ุชุฑููุงูโูุง ุจุงุฒ ุฑุง ุจุจูุฏุฏ

### ูุฑุญูู 2: ุชุฑููุงู ุฌุฏุฏ
1. ฺฉูุฏ `Win + X` ุฑุง ุจุฒูุฏ
2. **Windows PowerShell** ุง **Terminal** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุงู ุฏุณุชูุฑุงุช ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```powershell
# ูุนุงูโุณุงุฒ Node ูุณุฎู 22
nvm use 22.9.0

# ุจุฑุฑุณ ูุณุฎู
node -v
npm -v

# ุฑูุชู ุจู ูพูุดู ูพุฑูฺู
cd C:\Users\rose\Desktop\site

# ูุตุจ ูุงุจุณุชฺฏโูุง (ุงููู ุจุงุฑ)
npm install

# ุงุฌุฑุง ูุฑุงูุชโุงูุฏ
npm run dev
```

### ูุฑุญูู 3: ุชุฑููุงู ุฏูู ุจุฑุง ุจฺฉโุงูุฏ
ฺฉ ุชุฑููุงู ุฌุฏุฏ ุฏฺฏุฑ ุจุงุฒ ฺฉูุฏ:

```powershell
nvm use 22.9.0
cd C:\Users\rose\Desktop\site\server
npm install
npm run dev
```

---

## โ ุฑุงู ุญู 3: ุชูุธู PATH ุฏุฑ IDE

### ุจุฑุง VS Code:
1. File โ Preferences โ Settings
2. ุฌุณุชุฌู ฺฉูุฏ: `terminal.integrated.env.windows`
3. ุง IDE ุฑุง ุจุจูุฏุฏ ู ุจุง ุงู ุฏุณุชูุฑ ุฏูุจุงุฑู ุจุงุฒ ฺฉูุฏ:

```powershell
nvm use 22.9.0
code C:\Users\rose\Desktop\site
```

---

## ๐ ุชูุธูุงุช ุถุฑูุฑ

### 1. ูุงู `server/.env` (ุจุงุฒ ุฏุฑ ุงุฏุชูุฑ ุดูุงุณุช)

```env
NODE_ENV=development
PORT=8080

JWT_SECRET=bil-flow-secret-key-2024-change-in-production

ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://127.0.0.1:5173

RATE_LIMIT_MAX=100
OTP_RATE_LIMIT_MAX=3
LOGIN_RATE_LIMIT_MAX=50

# ุจุฑุง ุชุณุช ุจุฏูู SMS ูุงูุน: true ุจฺฏุฐุงุฑุฏ
# ุจุฑุง ุงุฑุณุงู ูุงูุน ุจุง sms.ir: false ุจฺฏุฐุงุฑุฏ
OTP_MOCK=true

SMS_PROVIDER=smsir
SMS_IR_API_KEY=YOUR_SMSIR_API_KEY_HERE
SMS_IR_VERIFY_URL=https://api.sms.ir/v1/send/verify
SMS_IR_TEMPLATE_ID=YOUR_TEMPLATE_ID_HERE
SMS_SANDBOX=false
```

### 2. ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู (ุงุฎุชุงุฑ)

```env
VITE_API_URL=http://localhost:8080/api
```

---

## ๐ ููฺฉโูุง ุชุณุช

ุจุนุฏ ุงุฒ ุงุฌุฑุง ููููุ ุงู ููฺฉโูุง ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ:

### ูุฑุงูุชโุงูุฏ:
- **ุตูุญู ุงุตู**: http://localhost:5173/
- **ูุฑูุฏ ุจุง OTP**: http://localhost:5173/auth
- **ุซุจุชโูุงู ุจุง OTP**: http://localhost:5173/register
- **ุชุณุช API**: http://localhost:5173/test-api
- **ูุฑูุฏ ุงุฏูู**: http://localhost:5173/admin/login

### ุจฺฉโุงูุฏ:
- **Health Check**: http://localhost:8080/health

---

## ๐ ุงฺฏุฑ ูููุฒ ุจุงุฒ ูุดุฏ

### ุฎุทุง ูพูุฑุช ูุดุบูู:
```powershell
# ุจุฑุฑุณ ูพูุฑุช 5173
netstat -ano | findstr :5173

# ุงฺฏุฑ ูุดุบูู ุจูุฏุ Process ุฑุง Kill ฺฉูุฏ ุง ูพูุฑุช ุฏฺฏุฑ ุงุณุชูุงุฏู ูโุดูุฏ
```

### ุฎุทุง CORS:
- ูุทูุฆู ุดูุฏ `ALLOWED_ORIGINS` ุฏุฑ `server/.env` ุดุงูู `http://localhost:5173` ุงุณุช

### ูุงุฑูุงู ููุฏูุฒ:
- ุงฺฏุฑ ูพุบุงู ุงููุช ุฏุฏุฏุ "Allow access" ุจุฒูุฏ

### ูุณุฎู Node:
```powershell
node -v  # ุจุงุฏ 22.9.0 ุจุงุดุฏ
npm -v   # ุจุงุฏ 10.8.3 ุจุงุดุฏ
```

---

## ๐ฏ ุชุณุช OTP ุจุง SMS.ir

### ุญุงูุช Mock (ุจุฏูู SMS ูุงูุน):
1. ุฏุฑ `server/.env` ุจฺฏุฐุงุฑุฏ: `OTP_MOCK=true`
2. ุจุนุฏ ุงุฒ ุฏุฑุฎูุงุณุช OTPุ ฺฉุฏ ุฏุฑ ูุงฺฏ ุณุฑูุฑ ฺุงูพ ูโุดูุฏ:
```
[MOCK OTP] to 09123456789: 123456
```

### ุญุงูุช ูุงูุน:
1. ุฏุฑ ูพูู sms.ir ฺฉ ูุงูุจ Verify ุจุณุงุฒุฏ ุจุง ูพุงุฑุงูุชุฑ `Code`
2. API Key ู Template ID ุฑุง ุฏุฑ `server/.env` ุจฺฏุฐุงุฑุฏ
3. `OTP_MOCK=false` ฺฉูุฏ
4. ุดูุงุฑู ููุจุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ู SMS ุฏุฑุงูุช ฺฉูุฏ

---

## ๐ ุงุฏูู ุชุณุช

ุจุฑุง ูุฑูุฏ ุจู ูพูู ุงุฏููุ ุฏุฑ `server/` ุงุฌุฑุง ฺฉูุฏ:

```powershell
node create-test-admin.js
```

**ุงุทูุงุนุงุช ูุฑูุฏ:**
- Username: `admin`
- Password: `admin123`

---

## โจ ุชุบุฑุงุช ุงุนูุงูโุดุฏู

โ ูุฑูุช ุดูุงุฑู ููุจุงู ุงุฑุงู: `09xxxxxxxxx` ุฏุฑ ูุฑูุฏ ู ุซุจุชโูุงู  
โ Vite ุจุฑุง ุจุงุฒ ุดุฏู ุฎูุฏฺฉุงุฑ ูุฑูุฑฺฏุฑ ุชูุธู ุดุฏ  
โ Mock OTP ููุท ุจุง `OTP_MOCK=true` ูุนุงู ุงุณุช  
โ SMS.ir VERIFY API ูพฺฉุฑุจูุฏ ุดุฏู  
โ ูุงูโูุง `.bat` ุจุฑุง ุงุฌุฑุง ุณุฑุน ุฏุฑ ููุฏูุฒ  

---

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุจุงู ูุงูุฏ:
1. ูุงฺฏ ฺฉุงูู ุชุฑููุงู ุฑุง ฺฉูพ ฺฉูุฏ
2. ุงุณฺฉุฑูโุดุงุช ุงุฒ ุฎุทุง ุจฺฏุฑุฏ
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุฑ ุฏู ุณุฑูุฑ (ูุฑุงูุช ู ุจฺฉ) ุฑูุดู ูุณุชูุฏ

**ูููู ุจุงุดุฏ! ๐**
