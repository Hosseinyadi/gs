# 🔐 راهنمای لاگین و ثبت آگهی

## ⚠️ مشکل: "Access denied. No token provided"

این خطا یعنی **شما لاگین نیستید!**

## ✅ راه‌حل (خیلی ساده):

### قدم 1: چک کنید لاگین هستید یا نه

فایل `check-auth-status.html` را باز کنید.

این فایل به شما می‌گوید:
- ✅ لاگین هستید
- ❌ لاگین نیستید

### قدم 2: لاگین کنید

1. به این آدرس بروید:
   ```
   http://localhost:5173/auth
   ```

2. شماره موبایل خود را بنویسید
   - مثال: `09123456789`

3. کد OTP را وارد کنید
   - **کد همیشه:** `123456`

4. روی "ورود" کلیک کنید

5. به صفحه اصلی هدایت می‌شوید ✅

### قدم 3: آگهی ثبت کنید

1. روی دکمه "ثبت آگهی" کلیک کنید

2. فرم را پر کنید:
   - عنوان: مثلاً "بیل مکانیکی کوماتسو"
   - نوع: اجاره یا فروش
   - دسته‌بندی: انتخاب کنید
   - توضیحات: بنویسید
   - قیمت: مثلاً `5000000`
   - استان: انتخاب کنید

3. روی "ثبت نهایی آگهی" کلیک کنید

4. تمام! ✅

## 🎯 نکات مهم:

### کد OTP:
```
همیشه: 123456
```

### اگر خطا گرفتید:
1. صفحه را رفرش کنید (F5)
2. اگر باز هم خطا داد، Logout کنید
3. دوباره Login کنید

### اگر دسته‌بندی‌ها نمایش داده نشد:
```bash
restart-servers.bat
```

## 📋 چک‌لیست:

قبل از ثبت آگهی، مطمئن شوید:

- [ ] سرورها در حال اجرا هستند
- [ ] لاگین کرده‌اید
- [ ] دسته‌بندی‌ها نمایش داده می‌شوند
- [ ] فرم را کامل پر کرده‌اید

## 🚀 فلوی کامل:

```
1. سرورها را راه‌اندازی کنید
   restart-servers.bat
   
2. لاگین کنید
   http://localhost:5173/auth
   شماره: 09123456789
   کد: 123456
   
3. آگهی ثبت کنید
   http://localhost:5173/post-ad
   فرم را پر کنید
   ثبت کنید
   
4. تمام! ✅
```

## 💡 راهنمای تصویری:

### 1. صفحه لاگین:
```
┌─────────────────────────────────┐
│  ورود به سایت                   │
│                                 │
│  شماره موبایل:                  │
│  ┌───────────────────────────┐  │
│  │ 09123456789              │  │
│  └───────────────────────────┘  │
│                                 │
│  [ارسال کد]                     │
└─────────────────────────────────┘
```

### 2. وارد کردن کد:
```
┌─────────────────────────────────┐
│  کد تایید را وارد کنید          │
│                                 │
│  کد: ┌─┐ ┌─┐ ┌─┐ ┌─┐ ┌─┐ ┌─┐  │
│      │1│ │2│ │3│ │4│ │5│ │6│  │
│      └─┘ └─┘ └─┘ └─┘ └─┘ └─┘  │
│                                 │
│  [ورود]                         │
└─────────────────────────────────┘
```

### 3. فرم ثبت آگهی:
```
┌─────────────────────────────────┐
│  ثبت آگهی جدید                  │
│                                 │
│  عنوان: ________________        │
│  نوع: [اجاره] [فروش]           │
│  دسته‌بندی: [انتخاب کنید ▼]    │
│  توضیحات: _______________       │
│  قیمت: _______________          │
│  استان: [انتخاب کنید ▼]        │
│                                 │
│  [ثبت نهایی آگهی]               │
└─────────────────────────────────┘
```

## ❓ سوالات متداول:

### س: کد OTP چیست؟
**ج:** همیشه `123456` است (در حالت توسعه)

### س: چرا دسته‌بندی‌ها نمایش داده نمی‌شود؟
**ج:** سرورها را ری‌استارت کنید: `restart-servers.bat`

### س: چرا خطای "Access denied" می‌گیرم؟
**ج:** لاگین نیستید. دوباره لاگین کنید.

### س: Token چیست؟
**ج:** یک کد امنیتی که بعد از لاگین ذخیره می‌شود.

### س: چطور Logout کنم؟
**ج:** روی دکمه خروج در هدر کلیک کنید.

## 🎉 موفق باشید!

اگر این مراحل را دنبال کنید، حتماً موفق می‌شوید! 🚀

---

**نکته:** اگر هنوز مشکل دارید، فایل `check-auth-status.html` را باز کنید تا وضعیت لاگین خود را ببینید.
