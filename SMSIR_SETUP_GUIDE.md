# ๐ฑ ุฑุงูููุง ุชูุธู SMS.ir

## โ SMS.ir ุจู ุณุณุชู ุงุถุงูู ุดุฏ!

ุณุฑูุณ SMS.ir ุจุง ูุงุจูุช ุงุฑุณุงู ูุงูุจโุฏุงุฑ (Template) ุจู ุณุณุชู ุงุถุงูู ุดุฏ.

---

## ๐ ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

### ูุฑุญูู 1: ุซุจุชโูุงู ุฏุฑ SMS.ir

```
1. ุจู https://sms.ir ุจุฑูุฏ
2. ุฑู "ุซุจุชโูุงู" ฺฉูฺฉ ฺฉูุฏ
3. ุงุทูุงุนุงุช ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุญุณุงุจ ุฎูุฏ ุฑุง ูุนุงู ฺฉูุฏ
```

---

### ูุฑุญูู 2: ุฏุฑุงูุช API Key

```
1. ูุงุฑุฏ ูพูู ฺฉุงุฑุจุฑ ุดูุฏ
2. ุจู ุจุฎุด "ุชูุธูุงุช" โ "API" ุจุฑูุฏ
3. API Key ุฎูุฏ ุฑุง ฺฉูพ ฺฉูุฏ
```

---

### ูุฑุญูู 3: ุงุฌุงุฏ ูุงูุจ ูพุงู (Template)

```
1. ุฏุฑ ูพููุ ุจู "ูุงูุจ ูพุงูโูุง" ุจุฑูุฏ
2. ุฑู "ุงุฌุงุฏ ูุงูุจ ุฌุฏุฏ" ฺฉูฺฉ ฺฉูุฏ
3. ุงุทูุงุนุงุช ูุงูุจ:
   - ูุงู: ฺฉุฏ ุชุงุฏ ฺฏุงุฑุงฺ ุณูฺฏู
   - ูุชู ูพุงู:
     ฺฉุฏ ุชุงุฏ ุดูุง: %CODE%
     ฺฏุงุฑุงฺ ุณูฺฏู
   - ูพุงุฑุงูุชุฑูุง: CODE
4. ุฐุฎุฑู ฺฉูุฏ
5. ุดูุงุณู ูุงูุจ (Template ID) ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ
```

**ูุซุงู ูุชู ูุงูุจ:**
```
ฺฉุฏ ุชุงุฏ ุดูุง: %CODE%
ฺฏุงุฑุงฺ ุณูฺฏู
```

---

### ูุฑุญูู 4: ุชูุธู Environment Variables

ูุงู `server/.env` ุฑุง ูุฑุงุด ฺฉูุฏ:

```env
# SMS Configuration
SMS_PROVIDER=smsir

# SMS.ir Settings
SMSIR_API_KEY=your_api_key_from_panel
SMSIR_TEMPLATE_ID=100000
SMS_SENDER=10008663

# OTP Mode (false ุจุฑุง ุงุณุชูุงุฏู ูุงูุน)
OTP_MOCK=false
```

**ูฺฉุชู**: `SMSIR_TEMPLATE_ID` ุฑุง ุจุง ุดูุงุณู ูุงูุจ ฺฉู ุงุฌุงุฏ ฺฉุฑุฏุฏ ุฌุงฺฏุฒู ฺฉูุฏ.

---

### ูุฑุญูู 5: Restart ุณุฑูุฑ

```bash
# ุชููู ุณุฑูุฑ (Ctrl+C)
cd server
node server.js
```

---

## ๐งช ุชุณุช SMS ูุงูุน

### ุชุณุช ุงุฒ ูุฑูุฑฺฏุฑ
```
1. ุจู http://localhost:5173/auth ุจุฑูุฏ
2. ุดูุงุฑู ููุจุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ: 09123456789
3. ฺฉูฺฉ "ุงุฑุณุงู ฺฉุฏ ุชุงุฏ"
4. ููุชุธุฑ ุฏุฑุงูุช ูพุงูฺฉ ุจูุงูุฏ (ูุนูููุงู 5-30 ุซุงูู)
5. ฺฉุฏ 6 ุฑูู ุฑุง ูุงุฑุฏ ฺฉูุฏ
6. ฺฉูฺฉ "ุชุงุฏ"
```

### ุชุณุช ุงุฒ API
```bash
curl -X POST http://localhost:8080/api/auth/send-otp \
  -H "Content-Type: application/json" \
  -d '{"phone":"09123456789"}'
```

**ุงูุชุธุงุฑ**: ูพุงูฺฉ ูุงูุน ุจู ุดูุงุฑู ุงุฑุณุงู ุดูุฏ

---

## ๐ API SMS.ir

### Endpoint ุงุฑุณุงู ูุงูุจโุฏุงุฑ
```
POST https://api.sms.ir/v1/send/verify
Headers:
  X-API-KEY: your_api_key
  Content-Type: application/json

Body:
{
  "mobile": "09123456789",
  "templateId": 100000,
  "parameters": [
    {
      "name": "CODE",
      "value": "123456"
    }
  ]
}
```

### Response ูููู
```json
{
  "status": 1,
  "message": "ุนููุงุช ุจุง ููููุช ุงูุฌุงู ุดุฏ",
  "messageId": 12345678
}
```

---

## ๐ฐ ูุฒููโูุง

### SMS.ir
```
๐ฑ ูพุงูฺฉ ุณุงุฏู: 350-500 ุชููุงู
๐ฑ ูพุงูฺฉ ูุงูุจโุฏุงุฑ: 350-500 ุชููุงู
๐ฑ ุฎุท ุงุฎุชุตุงุต: 5-8 ูููู ุชููุงู (ฺฉุจุงุฑ)
๐ณ ุดุงุฑฺ ุญุฏุงูู: 10,000 ุชููุงู
๐ ุงุนุชุจุงุฑ ูุฏู: 1000 ุชููุงู (ุซุจุชโูุงู)
```

---

## ๐ฏ ูุฒุงุง SMS.ir

```
โ ููุช ููุงุณุจ
โ ุณุฑุนุช ุจุงูุง
โ ูพูู ฺฉุงุฑุจุฑ ุณุงุฏู
โ API ุณุงุฏู ู ูุณุชูุฏ
โ ูพุดุชุจุงู ุฎูุจ
โ ูุงูุจ ูพุงู (Template)
โ ฺฏุฒุงุฑุดโฺฏุฑ ุฏูู
```

---

## ๐ง ฺฉุฏ ูพุงุฏูโุณุงุฒ ุดุฏู

### ุงุฑุณุงู OTP ุจุง SMS.ir
```javascript
async function sendViaSMSir(receptor, message) {
  const url = `${smsConfig.smsir.baseUrl}/send/verify`;
  
  const response = await axios.post(url, {
    mobile: receptor,
    templateId: parseInt(smsConfig.smsir.templateId),
    parameters: [
      {
        name: 'CODE',
        value: message.match(/\d{6}/)?.[0] || message
      }
    ]
  }, {
    headers: {
      'X-API-KEY': smsConfig.smsir.apiKey,
      'Content-Type': 'application/json'
    }
  });

  return {
    success: response.data.status === 1,
    messageId: response.data.messageId
  };
}
```

---

## ๐ ูุซุงู ฺฉุงูู .env

```env
# SMS Configuration
SMS_PROVIDER=smsir
SMSIR_API_KEY=abc123def456ghi789
SMSIR_TEMPLATE_ID=100000
SMS_SENDER=10008663
OTP_MOCK=false
```

---

## ๐ ุนุจโุงุจ

### ูุดฺฉู 1: ุฎุทุง 401 Unauthorized
```
โ API Key ุฑุง ุฏูุจุงุฑู ฺฺฉ ฺฉูุฏ
โ ูุทูุฆู ุดูุฏ ุฏุฑ ูพูู ูุนุงู ุงุณุช
โ ูุฑูุช header ุฑุง ุจุฑุฑุณ ฺฉูุฏ: X-API-KEY
```

### ูุดฺฉู 2: ุฎุทุง Template Not Found
```
โ Template ID ุฑุง ฺฺฉ ฺฉูุฏ
โ ูุทูุฆู ุดูุฏ ูุงูุจ ุชุงุฏ ุดุฏู ุงุณุช
โ ูพุงุฑุงูุชุฑ CODE ุฑุง ุฏุฑุณุช ุชูุธู ฺฉุฑุฏูโุงุฏ
```

### ูุดฺฉู 3: ูพุงูฺฉ ุงุฑุณุงู ููโุดูุฏ
```
โ ููุฌูุฏ ุญุณุงุจ ุฑุง ฺฺฉ ฺฉูุฏ
โ ุดูุงุฑู ูุฑุณุชูุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏ
โ ูุงฺฏโูุง backend ุฑุง ุจุจูุฏ
```

---

## ๐ ุขูุงุฏู ุงุณุชูุงุฏู!

**ูุฑุงุญู ููุง:**
1. โ ุซุจุชโูุงู ุฏุฑ SMS.ir
2. โ ุฏุฑุงูุช API Key
3. โ ุงุฌุงุฏ ูุงูุจ ูพุงู
4. โ ุชูุธู ุฏุฑ `.env`
5. โ Restart ุณุฑูุฑ
6. โ ุชุณุช ุจุง ุดูุงุฑู ูุงูุน

**ุณุณุชู ฺฉุงูู ูพุงุฏูโุณุงุฒ ุดุฏู ู ุขูุงุฏู ุงุณุช!** ๐

---

## ๐ ูพุดุชุจุงู SMS.ir

```
๐ ูุจุณุงุช: https://sms.ir
๐ง ุงูู: support@sms.ir
๐ฑ ุชููู: 021-91008663
๐ฌ ุชูฺฏุฑุงู: @smsir_support
```

ูููู ุจุงุดุฏ!
