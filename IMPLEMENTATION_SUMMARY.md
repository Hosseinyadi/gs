# ๐ ุฎูุงุตู ูพุงุฏูโุณุงุฒ ูพูู ูุฏุฑุช ฺฉุงูู - ฺฏุงุฑุงฺ ุณูฺฏู

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### ๐๏ธ Backend (ฺฉุงูู)

#### 1. Database Schema
- โ ุฌุฏูู `admin_roles` - ุณุทูุญ ุฏุณุชุฑุณ
- โ ุฌุฏูู `system_settings` - ุชูุธูุงุช ูพูุง
- โ ุฌุฏูู `discount_codes` - ฺฉุฏูุง ุชุฎูู
- โ ุฌุฏูู `discount_usage` - ุฑุฏุงุจ ุงุณุชูุงุฏู
- โ ุฌุฏูู `user_wallets` - ฺฉู ูพูู
- โ ุฌุฏูู `transactions` - ุชุฑุงฺฉูุดโูุง ูุงู
- โ ุฌุฏูู `audit_logs` - ูุงฺฏ ูุนุงูุชโูุง
- โ ุฌุฏูู `service_providers` - ุงุฑุงุฆูโุฏููุฏฺฏุงู ุฎุฏูุงุช/ูุทุนุงุช
- โ ุฌุฏูู `featured_listings` - ุขฺฏูโูุง ูฺู
- โ ุฌุฏูู `system_announcements` - ุงุนูุงูุงุช

#### 2. Middleware
- โ `authenticateAdmin` - ุงุญุฑุงุฒ ููุช ุงุฏูู
- โ `checkPermission` - ุจุฑุฑุณ ูุฌูุฒูุง
- โ `requireSuperAdmin` - ูุญุฏูุฏุช ุณููพุฑ ุงุฏูู
- โ `logAdminAction` - ุซุจุช ูุงฺฏ ุฎูุฏฺฉุงุฑ

#### 3. API Routes

**ุชูุธูุงุช (`/api/admin/settings`)**
- โ GET `/` - ุฏุฑุงูุช ููู ุชูุธูุงุช
- โ GET `/:key` - ุฏุฑุงูุช ฺฉ ุชูุธู
- โ PUT `/:key` - ุจุฑูุฒุฑุณุงู ุชูุธู
- โ POST `/bulk-update` - ุจุฑูุฒุฑุณุงู ุฏุณุชูโุฌูุน
- โ GET `/:key/history` - ุชุงุฑุฎฺู ุชุบุฑุงุช

**ฺฉุฏูุง ุชุฎูู (`/api/admin/discounts`)**
- โ GET `/` - ูุณุช ฺฉุฏูุง ุจุง ููุชุฑ
- โ GET `/:id` - ุฌุฒุฆุงุช ฺฉุฏ + ุขูุงุฑ ุงุณุชูุงุฏู
- โ POST `/` - ุงุฌุงุฏ ฺฉุฏ ุฌุฏุฏ
- โ PUT `/:id` - ุจุฑูุฒุฑุณุงู ฺฉุฏ
- โ DELETE `/:id` - ุญุฐู/ุบุฑูุนุงูโุณุงุฒ
- โ POST `/validate` - ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ

**ฺฏุฒุงุฑุดโูุง (`/api/admin/reports`)**
- โ GET `/financial` - ฺฏุฒุงุฑุด ูุงู ุจุง ูููุฏุงุฑ
- โ GET `/users` - ฺฏุฒุงุฑุด ุฑุดุฏ ฺฉุงุฑุจุฑุงู
- โ GET `/listings` - ฺฏุฒุงุฑุด ุขฺฏูโูุง
- โ GET `/export/:type` - ุฎุฑูุฌ CSV

**Audit Logs (`/api/admin/audit`)**
- โ GET `/` - ูุณุช ูุงฺฏโูุง (ููุท ุณููพุฑ ุงุฏูู)
- โ GET `/summary` - ุฎูุงุตู ูุนุงูุชโูุง

**ุงุฑุงุฆูโุฏููุฏฺฏุงู (`/api/admin/providers`)**
- โ GET `/` - ูุณุช ุจุง ููุชุฑ
- โ GET `/:id` - ุฌุฒุฆุงุช
- โ POST `/:id/approve` - ุชุฃุฏ
- โ POST `/:id/reject` - ุฑุฏ ุจุง ุฏูู
- โ POST `/:id/suspend` - ุชุนูู
- โ GET `/stats/overview` - ุขูุงุฑ

#### 4. ุชูุธูุงุช ูพุดโูุฑุถ
```
ููุชโฺฏุฐุงุฑ:
- ุขฺฏู ูฺู ุฑูุฒุงูู: 50,000 ุชููุงู
- ุขฺฏู ูฺู ููุชฺฏ: 300,000 ุชููุงู
- ุขฺฏู ูฺู ูุงูุงูู: 1,000,000 ุชููุงู
- ุขฺฏู ุงุถุงู: 20,000 ุชููุงู
- ุณููู ุฑุงฺฏุงู: 3 ุขฺฏู
- ุญุฏุงูู ุดุงุฑฺ: 10,000 ุชููุงู

ุนููู:
- ูุงู ุณุงุช: ฺฏุงุฑุงฺ ุณูฺฏู
- ุดูุงุฑู ูพุดุชุจุงู: ูุงุจู ุชูุธู
- ุญุงูุช ุชุนูุฑุงุช: ุฎุงููุด

ุขฺฏูโูุง:
- ูุฏุช ุงููุถุง: 30 ุฑูุฒ
- ุญุฏุงฺฉุซุฑ ุชุตูุฑ: 10 ุนุฏุฏ
- ุชุฃุฏ ุงุฏูู: ูุนุงู
```

### ๐จ Frontend (ุณุงุฎุชุงุฑ ุขูุงุฏู)

#### 1. Services
- โ `admin-api.ts` - ุณุฑูุณ API ูพูู ุงุฏูู
- โ ูุชุฏูุง ฺฉุงูู ุจุฑุง ุชูุงู endpoints

#### 2. Pages
- โ `AdminDashboard.tsx` - ุตูุญู ุงุตู ุจุง ุชุจโูุง

#### 3. Components (ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ)
- โณ `AdminListings.tsx` - ูุฏุฑุช ุขฺฏูโูุง
- โณ `AdminUsers.tsx` - ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- โณ `AdminSettings.tsx` - ุชูุธูุงุช ุณุณุชู
- โณ `AdminDiscounts.tsx` - ฺฉุฏูุง ุชุฎูู
- โณ `AdminReports.tsx` - ฺฏุฒุงุฑุดโูุง
- โณ `AdminProviders.tsx` - ุงุฑุงุฆูโุฏููุฏฺฏุงู
- โณ `AdminAuditLogs.tsx` - ูุงฺฏโูุง

---

## ๐ ุฑุงูโุงูุฏุงุฒ

### ูุฑุญูู 1: Migration ุฏุชุงุจุณ
```bash
cd server
node database/migrate-admin.js
```

### ูุฑุญูู 2: ุฑุงูโุงูุฏุงุฒ Backend
```bash
cd server
npm start
```

### ูุฑุญูู 3: ุฑุงูโุงูุฏุงุฒ Frontend
```bash
cd ..
npm run dev
```

### ูุฑุญูู 4: ูุฑูุฏ ุจู ูพูู
```
URL: http://localhost:5173/admin/login
Username: hossein
Password: password
```

---

## ๐ ูุงุจูุชโูุง ูพุงุฏูโุณุงุฒ ุดุฏู

### โ ุงุญุฑุงุฒ ููุช ู ุฏุณุชุฑุณ
- [x] ูุฑูุฏ ุงุฎุชุตุงุต ุงุฏูู
- [x] ุณู ุณุทุญ ุฏุณุชุฑุณ (ุณููพุฑ ุงุฏููุ ูุฏุฑ ูุญุชูุงุ ูพุดุชุจุงู)
- [x] ุจุฑุฑุณ ูุฌูุฒูุง ุฏุฑ ูุฑ ุฏุฑุฎูุงุณุช
- [x] JWT ุจุง ุงููุถุง 7 ุฑูุฒู

### โ ุฏุงุดุจูุฑุฏ
- [x] ุขูุงุฑ ูุญุธูโุง (ฺฉุงุฑุจุฑุงูุ ุขฺฏูโูุงุ ุจุงุฒุฏุฏูุง)
- [x] ุฏุณุชุฑุณ ุณุฑุน ุจู ุจุฎุดโูุง
- [x] ููุงุด ูุถุนุช ฺฉู ุณุณุชู

### โ ูุฏุฑุช ุขฺฏูโูุง
- [x] ูุณุช ุจุง ููุชุฑ ู ุฌุณุชโูุฌู
- [x] ุชุฃุฏ/ุฑุฏ ุจุง ุซุจุช ูุงฺฏ
- [x] ูุฑุงุด ุขฺฏู
- [x] ุญุฐู (soft delete)
- [x] ุงุฑุชูุง ุจู ูฺู (ุฑุงฺฏุงู)
- [x] ูุดุงูุฏู ุขูุงุฑ ุจุงุฒุฏุฏ

### โ ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- [x] ูุณุช ฺฉุงูู ฺฉุงุฑุจุฑุงู
- [x] ูุดุงูุฏู ุขฺฏูโูุง ูุฑ ฺฉุงุฑุจุฑ
- [x] ุขูุงุฑ ูุนุงูุช

### โ ุชูุธูุงุช ุณุณุชู (ูพูุง)
- [x] ุฏุณุชูโุจูุฏ ุดุฏู (ููุชุ ุนูููุ ุขฺฏูุ ูพุฑุฏุงุฎุช)
- [x] ุจุฑูุฒุฑุณุงู ุชฺฉ ู ุฏุณุชูโุฌูุน
- [x] ุชุงุฑุฎฺู ุชุบุฑุงุช
- [x] ุงุนุชุจุงุฑุณูุฌ ุจุฑ ุงุณุงุณ ููุน

### โ ฺฉุฏูุง ุชุฎูู
- [x] ุงุฌุงุฏ ฺฉุฏ ุจุง ุชูุธูุงุช ฺฉุงูู
- [x] ููุน: ุฏุฑุตุฏ/ูุจูุบ
- [x] ูุญุฏูุฏุช ุงุณุชูุงุฏู
- [x] ุจุงุฒู ุฒูุงู
- [x] ุญูุฒู ฺฉุงุฑุจุฑุฏ
- [x] ุขูุงุฑ ุงุณุชูุงุฏู
- [x] ุงุนุชุจุงุฑุณูุฌ

### โ ฺฏุฒุงุฑุดโูุง ูุงู ู ุขูุงุฑ
- [x] ฺฏุฒุงุฑุด ุฏุฑุขูุฏ ุจุง ุชูฺฉฺฉ ููุจุน
- [x] ฺฏุฒุงุฑุด ุฑุดุฏ ฺฉุงุฑุจุฑุงู
- [x] ฺฏุฒุงุฑุด ุขฺฏูโูุง ุจู ุชูฺฉฺฉ ุฏุณุชู
- [x] ูููุฏุงุฑูุง ุฒูุงู
- [x] ุฎุฑูุฌ CSV

### โ ุงุฑุงุฆูโุฏููุฏฺฏุงู ุฎุฏูุงุช/ูุทุนุงุช
- [x] ุฏุฑุงูุช ุฏุฑุฎูุงุณุชโูุง
- [x] ุชุฃุฏ ุจุง ุงุฑุณุงู ุดูุงุฑู ุชูุงุณ
- [x] ุฑุฏ ุจุง ุฐฺฉุฑ ุฏูู
- [x] ุชุนูู
- [x] ุขูุงุฑ

### โ Audit Trail
- [x] ุซุจุช ุฎูุฏฺฉุงุฑ ุชูุงู ุนููุงุช
- [x] ุงุทูุงุนุงุช ฺฉุงูู (ุฒูุงูุ ุงุฏููุ ุนููุ IP)
- [x] ุฌุณุชโูุฌู ู ููุชุฑ
- [x] ุฎูุงุตู ูุนุงูุช
- [x] ููุท ุจุฑุง ุณููพุฑ ุงุฏูู

---

## ๐ ุงููุช

### ูพุงุฏูโุณุงุฒ ุดุฏู
- โ JWT Authentication
- โ Permission-based Access Control
- โ Rate Limiting
- โ Audit Logging
- โ Input Validation
- โ SQL Injection Protection (Parameterized Queries)

### ุชูุตูโูุง
- โ๏ธ ุชุบุฑ ุฑูุฒ ุนุจูุฑ ูพุดโูุฑุถ
- โ๏ธ ุชูุธู JWT_SECRET ุฏุฑ production
- โ๏ธ ุงุณุชูุงุฏู ุงุฒ HTTPS
- โ๏ธ Backup ููุธู ุฏุชุงุจุณ

---

## ๐ ฺฉุงุฑูุง ุจุงูโูุงูุฏู (Frontend)

### ฺฉุงููพูููุชโูุง UI
1. **AdminListings** - ูุฏุฑุช ุขฺฏูโูุง
   - ุฌุฏูู ุจุง ููุชุฑ ู ูุฑุชุจโุณุงุฒ
   - ุฏุงููฺฏ ุชุฃุฏ/ุฑุฏ
   - ูุฑู ูุฑุงุด
   - ุฏฺฉูู ุงุฑุชูุง ุจู ูฺู

2. **AdminUsers** - ูุฏุฑุช ฺฉุงุฑุจุฑุงู
   - ุฌุฏูู ฺฉุงุฑุจุฑุงู
   - ุฏุงููฺฏ ูุณุฏูุฏุณุงุฒ
   - ูุฑู ุชูุธู ฺฉู ูพูู
   - ูุณุช ุขฺฏูโูุง ฺฉุงุฑุจุฑ

3. **AdminSettings** - ุชูุธูุงุช
   - ูุฑูโูุง ุฏุณุชูโุจูุฏ ุดุฏู
   - ุฐุฎุฑู ุชฺฉ ู ุฏุณุชูโุฌูุน
   - ููุงุด ุชุงุฑุฎฺู

4. **AdminDiscounts** - ฺฉุฏูุง ุชุฎูู
   - ุฌุฏูู ฺฉุฏูุง
   - ูุฑู ุงุฌุงุฏ ฺฉุฏ
   - ููุงุด ุขูุงุฑ ุงุณุชูุงุฏู
   - ูุนุงู/ุบุฑูุนุงูโุณุงุฒ

5. **AdminReports** - ฺฏุฒุงุฑุดโูุง
   - ูููุฏุงุฑูุง ุชุนุงูู (Chart.js ุง Recharts)
   - ููุชุฑ ุชุงุฑุฎ
   - ุฏฺฉูู ุฏุงูููุฏ CSV

6. **AdminProviders** - ุงุฑุงุฆูโุฏููุฏฺฏุงู
   - ุฌุฏูู ุฏุฑุฎูุงุณุชโูุง
   - ุฏุงููฺฏ ุฌุฒุฆุงุช
   - ุฏฺฉููโูุง ุชุฃุฏ/ุฑุฏ/ุชุนูู

7. **AdminAuditLogs** - ูุงฺฏโูุง
   - ุฌุฏูู ูุงฺฏโูุง
   - ููุชุฑูุง ูพุดุฑูุชู
   - ููุงุด ุฌุฒุฆุงุช JSON

---

## ๐ฏ ูฺฉุงุช ููู

### Backend
- ุชูุงู API endpoints ุขูุงุฏู ู ุชุณุช ุดุฏู
- Audit logging ุฏุฑ ุชูุงู ุนููุงุช ุญุณุงุณ
- Permission checking ุฏุฑ ููู route ูุง
- Input validation ุจุง express-validator

### Frontend
- ุณุงุฎุชุงุฑ ฺฉู ุขูุงุฏู
- Service layer ฺฉุงูู
- ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ฺฉุงููพูููุชโูุง UI
- ุงุณุชูุงุฏู ุงุฒ shadcn/ui components

### Database
- Schema ฺฉุงูู ู ุจููู
- Indexes ุจุฑุง performance
- Foreign keys ุจุฑุง ฺฉูพุงุฑฺฺฏ
- Default values ููุงุณุจ

---

## ๐ ูพุดุชุจุงู

ุจุฑุง ุณูุงูุงุช:
- ูุงู `ADMIN_PANEL_GUIDE.md` ุฑุง ูุทุงูุนู ฺฉูุฏ
- ฺฉุฏ backend ฺฉุงูู ู ูุณุชูุฏ ุงุณุช
- ุชูุงู API endpoints ุฏุฑ Postman ูุงุจู ุชุณุช

---

## โจ ูฺฺฏโูุง ุจุฑุฌุณุชู

1. **ฺฉุงููุงู ูพูุง** - ุชูุธูุงุช ุจุฏูู ูุงุฒ ุจู ฺฉุฏ
2. **ุงูู** - Audit logging ู permission system
3. **ููุงุณโูพุฐุฑ** - ุณุงุฎุชุงุฑ modular
4. **ูุงุจู ฺฏุณุชุฑุด** - ุงูุฒูุฏู ูุงุจูุช ุขุณุงู
5. **ุญุฑููโุง** - ฺฉุฏ ุชูุฒ ู ูุณุชูุฏ

---

**ูุถุนุช ฺฉู:** Backend 100% โ | Frontend 30% โณ

**ุฒูุงู ุชุฎูู ุจุฑุง ุชฺฉูู Frontend:** 8-12 ุณุงุนุช ฺฉุงุฑ

**ุงูููุช:** ูพุงุฏูโุณุงุฒ ฺฉุงููพูููุชโูุง UI ุจู ุชุฑุชุจ ุงููุช
