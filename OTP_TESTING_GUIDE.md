# ๐ฑ ุฑุงูููุง ุชุณุช OTP

## โ ูุถุนุช ุณุณุชู

```
โ Backend: http://localhost:8080 (ุฏุฑ ุญุงู ุงุฌุฑุง)
โ Frontend: http://localhost:5173 (ุฏุฑ ุญุงู ุงุฌุฑุง)
โ OTP System: ูุนุงู ู ุชุณุช ุดุฏู
```

---

## ๐งช ุชุณุช Backend (ุชุงุฏ ุดุฏู โ)

### ุงุฑุณุงู OTP
```bash
curl -X POST http://localhost:8080/api/auth/send-otp \
  -H "Content-Type: application/json" \
  -d '{"phone":"09123456789"}'
```

**ูุชุฌู**: โ ฺฉุงุฑ ูโฺฉูุฏ
```json
{
  "success": true,
  "message": "ฺฉุฏ ุชุงุฏ ุงุฑุณุงู ุดุฏ",
  "expiresIn": 300
}
```

**ฺฉุฏ OTP ุฏุฑ ูุงฺฏ backend**: `994393`

### ุชุงุฏ OTP
```bash
curl -X POST http://localhost:8080/api/auth/verify-otp \
  -H "Content-Type: application/json" \
  -d '{"phone":"09123456789","otp":"994393","name":"ุชุณุช ฺฉุงุฑุจุฑ"}'
```

**ูุชุฌู**: โ ฺฉุงุฑ ูโฺฉูุฏ
```json
{
  "success": true,
  "message": "ูุฑูุฏ ููููุชโุขูุฒ",
  "data": {
    "user": {...},
    "token": "..."
  }
}
```

---

## ๐ ุชุณุช Frontend

### ูุฑุญูู 1: ุจุงุฒ ฺฉุฑุฏู ุตูุญู ูุฑูุฏ
```
1. ุจู http://localhost:5173/auth ุจุฑูุฏ
2. ุชุจ "ฺฉุฏ ฺฉุจุงุฑ ูุตุฑู" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
```

### ูุฑุญูู 2: ูุงุฑุฏ ฺฉุฑุฏู ุดูุงุฑู
```
1. ุดูุงุฑู ููุจุงู: 09123456789
2. ูุงู (ุงุฎุชุงุฑ): ุชุณุช ฺฉุงุฑุจุฑ
3. ฺฉูฺฉ ุฑู "ุงุฑุณุงู ฺฉุฏ ุชุงุฏ"
```

### ูุฑุญูู 3: ุจุฑุฑุณ ฺฉุฏ OTP
```
1. Console browser ุฑุง ุจุงุฒ ฺฉูุฏ (F12)
2. ุจู ุชุจ Network ุจุฑูุฏ
3. ุฏุฑุฎูุงุณุช send-otp ุฑุง ูพุฏุง ฺฉูุฏ
4. Response ุฑุง ุจุจูุฏ
```

**ุง**

```
1. ุจู ูุงฺฏโูุง backend ุจุฑูุฏ
2. ฺฉุฏ OTP ุฑุง ูพุฏุง ฺฉูุฏ (ูุซูุงู: 994393)
```

### ูุฑุญูู 4: ูุงุฑุฏ ฺฉุฑุฏู ฺฉุฏ
```
1. ฺฉุฏ 6 ุฑูู ุฑุง ูุงุฑุฏ ฺฉูุฏ
2. ฺฉูฺฉ ุฑู "ุชุงุฏ"
```

---

## ๐ ูุดฺฉูุงุช ุงุญุชูุงู ู ุฑุงูโุญู

### ูุดฺฉู 1: "ุฎุทุง ุฏุฑ ุงุฑุณุงู ฺฉุฏ ุชุงุฏ"

**ุนูุชโูุง ุงุญุชูุงู**:
1. Backend ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุช
2. ุดูุงุฑู ููุจุงู ูุฑูุช ุงุดุชุจุงู ุฏุงุฑุฏ
3. ูุดฺฉู CORS

**ุฑุงูโุญู**:
```bash
# ุจุฑุฑุณ Backend
curl http://localhost:8080/health

# ุจุฑุฑุณ ูุงฺฏโูุง Backend
# ุฏุฑ terminal backend ุจุจูุฏ ฺู ุฎุทุง ูุฏู
```

---

### ูุดฺฉู 2: "ฺฉุฏ ุชุงุฏ ูุงูุนุชุจุฑ ุงุณุช"

**ุนูุชโูุง ุงุญุชูุงู**:
1. ฺฉุฏ ุงุดุชุจุงู ูุงุฑุฏ ุดุฏู
2. ฺฉุฏ ูููุถ ุดุฏู (ุจุนุฏ ุงุฒ 5 ุฏููู)
3. ฺฉุฏ ูุจูุงู ุงุณุชูุงุฏู ุดุฏู

**ุฑุงูโุญู**:
```
1. ฺฉุฏ ุฌุฏุฏ ุฏุฑุฎูุงุณุช ฺฉูุฏ
2. ุงุฒ ูุงฺฏ backend ฺฉุฏ ุตุญุญ ุฑุง ุจุฑุฏุงุฑุฏ
3. ุณุฑุน ูุงุฑุฏ ฺฉูุฏ (ูุจู ุงุฒ 5 ุฏููู)
```

---

### ูุดฺฉู 3: ุตูุญู ุจุนุฏ ุงุฒ ูุฑูุฏ reload ูโุดูุฏ

**ุนูุช**: ูุดฺฉู ุฏุฑ navigation

**ุฑุงูโุญู**: โ ุฏุฑ ฺฉุฏ ูุนู ุฑูุน ุดุฏู
```typescript
// ุงุฒ navigate ุงุณุชูุงุฏู ูโฺฉูู ูู window.location
navigate(redirect);
```

---

### ูุดฺฉู 4: CORS Error

**ุนูุช**: Backend CORS ุฑุง ุฏุฑุณุช ุชูุธู ูฺฉุฑุฏู

**ุฑุงูโุญู**:
```javascript
// ุฏุฑ server.js ุจุฑุฑุณ ฺฉูุฏ:
app.use(cors({
  origin: 'http://localhost:5173',
  credentials: true
}));
```

---

## ๐ ุจุฑุฑุณ ุฏุชุงุจุณ

### ูุดุงูุฏู OTP ูุง ุงุฑุณุงู ุดุฏู
```bash
node -e "const {dbHelpers} = require('./server/config/database'); (async () => { const otps = await dbHelpers.all('SELECT * FROM otp_verifications ORDER BY created_at DESC LIMIT 10'); console.log('Recent OTPs:', otps); })();"
```

### ูุดุงูุฏู ฺฉุงุฑุจุฑุงู ุซุจุช ุดุฏู
```bash
node -e "const {dbHelpers} = require('./server/config/database'); (async () => { const users = await dbHelpers.all('SELECT id, phone, name, is_verified FROM users ORDER BY created_at DESC LIMIT 10'); console.log('Recent Users:', users); })();"
```

---

## ๐ Debug Mode

### ูุนุงู ฺฉุฑุฏู ูุงฺฏโูุง ุจุดุชุฑ

ุฏุฑ `src/services/api.ts`:
```typescript
console.log('๐ต API Request:', url, config);
console.log('๐ข API Response Status:', response.status);
console.log('๐ฆ API Response Data:', data);
```

ุฏุฑ `src/pages/Auth.tsx`:
```typescript
console.log('[OTP] ฺฉุฏ ุจู ุดูุงุฑู ุงุฑุณุงู ุดุฏ:', formattedPhone);
console.log('[OTP] Verifying:', { phone, otp, name });
console.log('[OTP] Verify result:', result);
```

---

## โ Checklist ุชุณุช

- [ ] Backend ุฏุฑ ุญุงู ุงุฌุฑุงุณุช (http://localhost:8080)
- [ ] Frontend ุฏุฑ ุญุงู ุงุฌุฑุงุณุช (http://localhost:5173)
- [ ] ูโุชูุงูู ุจู /auth ุจุฑูู
- [ ] ูโุชูุงูู ุดูุงุฑู ูุงุฑุฏ ฺฉูู
- [ ] ุฏฺฉูู "ุงุฑุณุงู ฺฉุฏ ุชุงุฏ" ฺฉุงุฑ ูโฺฉูุฏ
- [ ] ฺฉุฏ OTP ุฏุฑ ูุงฺฏ backend ููุงุด ุฏุงุฏู ูโุดูุฏ
- [ ] ูโุชูุงูู ฺฉุฏ ุฑุง ูุงุฑุฏ ฺฉูู
- [ ] ุฏฺฉูู "ุชุงุฏ" ฺฉุงุฑ ูโฺฉูุฏ
- [ ] ุจุนุฏ ุงุฒ ูุฑูุฏุ ุจู ุตูุญู ุงุตู ูุฏุงุช ูโุดูู
- [ ] ุชูฺฉู ุฏุฑ localStorage ุฐุฎุฑู ูโุดูุฏ

---

## ๐ฏ ุชุณุช ุณุฑุน (ฺฉุงูู)

### 1. ุดุฑูุน ุณุฑูุฑูุง
```bash
# Terminal 1 - Backend
cd server
node server.js

# Terminal 2 - Frontend
npm run dev
```

### 2. ุชุณุช ุจุง ูุฑูุฑฺฏุฑ
```
1. ุจู http://localhost:5173/auth ุจุฑูุฏ
2. ุดูุงุฑู: 09123456789
3. ูุงู: ุชุณุช ฺฉุงุฑุจุฑ
4. ฺฉูฺฉ "ุงุฑุณุงู ฺฉุฏ ุชุงุฏ"
5. ุงุฒ ูุงฺฏ backend ฺฉุฏ ุฑุง ุจุฑุฏุงุฑุฏ
6. ฺฉุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
7. ฺฉูฺฉ "ุชุงุฏ"
```

### 3. ุจุฑุฑุณ ูุชุฌู
```
โ ุจุงุฏ ูุงุฑุฏ ุดูุฏ
โ ุจุงุฏ ุจู ุตูุญู ุงุตู ุจุฑูุฏ
โ ูุงู ุดูุง ุฏุฑ header ููุงุด ุฏุงุฏู ุดูุฏ
```

---

## ๐ ูฺฉุงุช ููู

### OTP Mock Mode
```
ุฏุฑ ุญุงูุช developmentุ OTP ุจู ุตูุฑุช mock ุงุฑุณุงู ูโุดูุฏ
ฺฉุฏ ุฏุฑ ูุงฺฏ backend ููุงุด ุฏุงุฏู ูโุดูุฏ
ุจุฑุง production ุจุงุฏ SMS ูุงูุน ุชูุธู ุดูุฏ
```

### ูุฑูุช ุดูุงุฑู ููุจุงู
```
โ 09123456789
โ 9123456789
โ +989123456789
โ 912-345-6789
โ 0912 345 6789
```

### ูุฏุช ุงุนุชุจุงุฑ ฺฉุฏ
```
โฑ๏ธ 5 ุฏููู (300 ุซุงูู)
ุจุนุฏ ุงุฒ ุงู ูุฏุช ุจุงุฏ ฺฉุฏ ุฌุฏุฏ ุฏุฑุฎูุงุณุช ฺฉูุฏ
```

---

## ๐ ููู ฺุฒ ฺฉุงุฑ ูโฺฉูุฏ!

Backend ู Frontend ูุฑ ุฏู ุชุณุช ุดุฏูุฏ ู OTP ฺฉุงูู ฺฉุงุฑ ูโฺฉูุฏ.

**ุงฺฏุฑ ูุดฺฉู ุฏุงุฑุฏ**:
1. ูุงฺฏโูุง browser console ุฑุง ฺฺฉ ฺฉูุฏ
2. ูุงฺฏโูุง backend ุฑุง ุจุจูุฏ
3. Network tab ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุฏุชุงุจุณ ุฑุง ฺฺฉ ฺฉูุฏ

**ุจุฑุง ฺฉูฺฉ ุจุดุชุฑ**:
- ุฎุทุง ุฏูู ุฑุง ุจูุฑุณุชุฏ
- Screenshot ุงุฒ console
- ูุงฺฏโูุง backend

ูููู ุจุงุดุฏ! ๐
