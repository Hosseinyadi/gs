# ✅ تبدیل قیمت به حروف و حذف فیلد شهر

## 🎉 تغییرات انجام شده

### 1. تبدیل قیمت به حروف فارسی 💰

#### ویژگی جدید:
کاربر وقتی قیمت را وارد می‌کند، زیر فیلد قیمت دو خط نمایش داده می‌شود:
1. **خط اول**: قیمت با اعداد فارسی (مثلاً: ۵,۰۰۰,۰۰۰ تومان)
2. **خط دوم**: قیمت با حروف فارسی (مثلاً: پنج میلیون تومان)

#### مثال‌ها:
```
ورودی: 5000000
نمایش:
  ۵,۰۰۰,۰۰۰ تومان
  پنج میلیون تومان

ورودی: 1500000
نمایش:
  ۱,۵۰۰,۰۰۰ تومان
  یک میلیون و پانصد هزار تومان

ورودی: 250000
نمایش:
  ۲۵۰,۰۰۰ تومان
  دویست و پنجاه هزار تومان
```

#### فایل ایجاد شده:
- `src/utils/numberToWords.ts` - تابع تبدیل عدد به حروف فارسی

#### توابع:
```typescript
// تبدیل عدد به حروف
numberToWords(5000000) // "پنج میلیون"

// فرمت کامل قیمت
formatPriceWithWords(5000000)
// {
//   numeric: "۵,۰۰۰,۰۰۰ تومان",
//   words: "پنج میلیون تومان"
// }
```

#### پشتیبانی از:
- ✅ یکان (یک، دو، سه، ...)
- ✅ دهگان (بیست، سی، چهل، ...)
- ✅ صدگان (یکصد، دویست، سیصد، ...)
- ✅ هزارها (هزار، دو هزار، ...)
- ✅ میلیون‌ها (میلیون، دو میلیون، ...)
- ✅ میلیاردها (میلیارد، دو میلیارد، ...)

### 2. حذف فیلد شهر 🗺️

#### تغییرات:
- ❌ فیلد "شهر" حذف شد
- ✅ فقط فیلد "استان" باقی ماند
- ✅ استان به عنوان location در دیتابیس ذخیره می‌شود

#### قبل:
```
استان: تهران
شهر: تهران
```

#### بعد:
```
استان: تهران
```

## 📝 فایل‌های تغییر یافته

### 1. src/utils/numberToWords.ts (جدید)
```typescript
export const numberToWords = (num: number): string => {
  // تبدیل عدد به حروف فارسی
  // پشتیبانی از میلیارد، میلیون، هزار
}

export const formatPriceWithWords = (price: number | string) => {
  // فرمت قیمت با اعداد و حروف
  return {
    numeric: "۵,۰۰۰,۰۰۰ تومان",
    words: "پنج میلیون تومان"
  }
}
```

### 2. src/pages/PostAd.tsx
#### تغییرات:
- ✅ Import تابع `formatPriceWithWords`
- ✅ حذف فیلد `location` از state
- ✅ حذف `CitySelect` component
- ✅ استفاده از `province` به عنوان location
- ✅ نمایش قیمت با حروف در فیلد ورودی
- ✅ نمایش قیمت با حروف در خلاصه

#### قبل:
```tsx
<Input type="number" value={form.price} />
{form.price && (
  <p>{formatPrice(form.price)}</p>
)}
```

#### بعد:
```tsx
<Input type="number" value={form.price} />
{form.price && parseFloat(form.price) > 0 && (
  <div className="mt-2 space-y-1">
    <p className="text-sm text-gray-600">
      {formatPriceWithWords(form.price).numeric}
    </p>
    <p className="text-sm text-green-600 font-medium">
      {formatPriceWithWords(form.price).words}
    </p>
  </div>
)}
```

### 3. src/pages/ListingDetail.tsx
#### تغییرات:
- ✅ حذف نمایش جداگانه استان و شهر
- ✅ فقط نمایش استان (از فیلد location)
- ✅ اضافه کردن `is_featured` به interface

#### قبل:
```tsx
{listing.specifications?.province && (
  <div>استان: {listing.specifications.province}</div>
)}
<div>شهر: {listing.location}</div>
```

#### بعد:
```tsx
<div>استان: {listing.location}</div>
```

## 🎨 نمایش در UI

### صفحه ثبت آگهی:

#### فیلد قیمت:
```
┌─────────────────────────────────────┐
│ قیمت (روزانه) *                     │
│ ┌─────────────────────────────────┐ │
│ │ 5000000                         │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ۵,۰۰۰,۰۰۰ تومان (روزانه)           │
│ پنج میلیون تومان (روزانه)          │
└─────────────────────────────────────┘
```

#### فیلد استان:
```
┌─────────────────────────────────────┐
│ استان *                             │
│ ┌─────────────────────────────────┐ │
│ │ تهران                    ▼     │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### خلاصه آگهی (مرحله 4):
```
┌─────────────────────────────────────┐
│ خلاصه آگهی شما:                     │
│                                     │
│ عنوان: بیل مکانیکی کوماتسو          │
│ نوع: اجاره                          │
│ دسته‌بندی: بیل مکانیکی              │
│ قیمت:                               │
│   ۵,۰۰۰,۰۰۰ تومان (روزانه)          │
│   پنج میلیون تومان (روزانه)        │
│ استان: تهران                        │
│ برند: کوماتسو                       │
│ ...                                 │
└─────────────────────────────────────┘
```

## 🔢 مثال‌های تبدیل عدد به حروف

| عدد | حروف فارسی |
|-----|-----------|
| 0 | صفر |
| 10 | ده |
| 15 | پانزده |
| 20 | بیست |
| 100 | یکصد |
| 250 | دویست و پنجاه |
| 1000 | یک هزار |
| 5000 | پنج هزار |
| 10000 | ده هزار |
| 50000 | پنجاه هزار |
| 100000 | یکصد هزار |
| 500000 | پانصد هزار |
| 1000000 | یک میلیون |
| 5000000 | پنج میلیون |
| 10000000 | ده میلیون |
| 50000000 | پنجاه میلیون |
| 100000000 | یکصد میلیون |
| 1000000000 | یک میلیارد |

## 🎯 مزایا

### تبدیل قیمت به حروف:
1. ✅ کاربر راحت‌تر قیمت را می‌فهمد
2. ✅ کاهش خطا در وارد کردن قیمت
3. ✅ تجربه کاربری بهتر
4. ✅ حرفه‌ای‌تر به نظر می‌رسد
5. ✅ مطابق با استانداردهای ایرانی

### حذف فیلد شهر:
1. ✅ فرم ساده‌تر می‌شود
2. ✅ کاربر سریع‌تر آگهی ثبت می‌کند
3. ✅ کمتر گیج می‌شود
4. ✅ استان کافی است برای فیلتر کردن

## 🧪 تست

### تست تبدیل قیمت:
```typescript
// تست 1: عدد ساده
formatPriceWithWords(1000000)
// { numeric: "۱,۰۰۰,۰۰۰ تومان", words: "یک میلیون تومان" }

// تست 2: عدد ترکیبی
formatPriceWithWords(1500000)
// { numeric: "۱,۵۰۰,۰۰۰ تومان", words: "یک میلیون و پانصد هزار تومان" }

// تست 3: عدد بزرگ
formatPriceWithWords(5250000)
// { numeric: "۵,۲۵۰,۰۰۰ تومان", words: "پنج میلیون و دویست و پنجاه هزار تومان" }
```

### تست فرم:
1. ✅ وارد کردن قیمت → نمایش با حروف
2. ✅ تغییر قیمت → به‌روزرسانی خودکار
3. ✅ قیمت صفر → عدم نمایش
4. ✅ قیمت منفی → نمایش "منفی ..."
5. ✅ انتخاب استان → ذخیره به عنوان location

## 📱 تجربه کاربری

### قبل:
```
کاربر: "5000000 چند تومانه؟ 🤔"
کاربر: "باید استان و شهر هر دو رو پر کنم؟ 😕"
```

### بعد:
```
کاربر: "آها! پنج میلیون تومان 😊"
کاربر: "فقط استان؟ عالی! 👍"
```

## 🚀 آماده استفاده

همه چیز آماده است:

1. ✅ تابع تبدیل عدد به حروف
2. ✅ نمایش قیمت با حروف در فرم
3. ✅ نمایش قیمت با حروف در خلاصه
4. ✅ حذف فیلد شهر
5. ✅ استان به عنوان location

## 🎯 نتیجه

دو تغییر درخواستی شما با موفقیت انجام شد:

1. ✅ **تبدیل قیمت به حروف فارسی** - کاربر راحت‌تر قیمت را می‌فهمد
2. ✅ **حذف فیلد شهر** - فقط استان باقی ماند

تجربه کاربری بهتر و ساده‌تر شد! 🎉
