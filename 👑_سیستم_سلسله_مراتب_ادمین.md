# ğŸ‘‘ Ø³ÛŒØ³ØªÙ… Ø³Ù„Ø³Ù„Ù‡ Ù…Ø±Ø§ØªØ¨ Ø§Ø¯Ù…ÛŒÙ†

## ğŸ¯ Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ:

### 1. Master Admin (Ø³ÙˆÙ¾Ø± Ø§Ø¯Ù…ÛŒÙ† Ø§ØµÙ„ÛŒ) ğŸ‘‘
- **Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ù…Ù„** Ø¨Ù‡ ØªÙ…Ø§Ù… Ø¨Ø®Ø´â€ŒÙ‡Ø§
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Super Admin Ùˆ Admin Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡Ø¯
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ø­Ø°Ù Ú©Ù†Ø¯
- Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯ ØªÙ…Ø§Ù… ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§

### 2. Super Admin (Ø³ÙˆÙ¾Ø± Ø§Ø¯Ù…ÛŒÙ† Ø«Ø§Ù†ÙˆÛŒÙ‡) â­
- Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ (Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ… ØªÙˆØ³Ø· Master)
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Admin Ø¹Ø§Ø¯ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
- Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Admin Ø¹Ø§Ø¯ÛŒ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯
- **Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯** Master Admin Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯
- **Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯** Super Admin Ø¯ÛŒÚ¯Ø±ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
- Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ…

### 3. Admin (Ø§Ø¯Ù…ÛŒÙ† Ø¹Ø§Ø¯ÛŒ) ğŸ‘¤
- Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾Ø§ÛŒÙ‡
- Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ú¯Ù‡ÛŒâ€ŒÙ‡Ø§
- Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¢Ù…Ø§Ø±
- **Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯** Ø§Ø¯Ù…ÛŒÙ† Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
- **Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯** ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡Ø¯

---

## ğŸ“‹ Ù„ÛŒØ³Øª Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§:

| Ø¯Ø³ØªØ±Ø³ÛŒ | Master | Super | Admin |
|--------|--------|-------|-------|
| manage_admins | âœ… | âœ… | âŒ |
| manage_listings | âœ… | âœ… | âœ… |
| manage_users | âœ… | âœ… | âŒ |
| manage_payments | âœ… | âš™ï¸ | âŒ |
| manage_settings | âœ… | âš™ï¸ | âŒ |
| view_analytics | âœ… | âœ… | âœ… |
| manage_categories | âœ… | âœ… | âŒ |
| manage_featured | âœ… | âœ… | âŒ |
| delete_admins | âœ… | âš™ï¸ | âŒ |
| modify_permissions | âœ… | âŒ | âŒ |

âš™ï¸ = Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ… ØªÙˆØ³Ø· Master Admin

---

## ğŸš€ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ:

### Ù…Ø±Ø­Ù„Ù‡ 1: Ø§Ø¬Ø±Ø§ÛŒ Migration

```bash
cd server
node database/create-master-admin.js
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
âœ… Migration completed successfully
âœ… Master Admin created successfully!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” MASTER ADMIN CREDENTIALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Username: masteradmin
Password: Master@123456
Level: Master Administrator
Permissions: FULL ACCESS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  IMPORTANT: Change the password after first login!
âš ï¸  Keep these credentials safe and secure!
```

### Ù…Ø±Ø­Ù„Ù‡ 2: Restart Ø³Ø±ÙˆØ±Ù‡Ø§

```bash
restart-servers.bat
```

---

## ğŸ” ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…:

### Master Admin:
```
URL: http://localhost:5173/admin
Username: masteradmin
Password: Master@123456
```

âš ï¸ **Ù…Ù‡Ù…:** Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† ÙˆØ±ÙˆØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯!

---

## ğŸ“¡ API Endpoints:

### 1. Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§
```http
GET /api/admin/hierarchy/admins
Authorization: Bearer {admin_token}
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "data": {
    "admins": [
      {
        "id": 1,
        "username": "masteradmin",
        "name": "Master Administrator",
        "admin_level": "master",
        "is_active": 1,
        "permissions": {...},
        "can_manage": false
      }
    ]
  }
}
```

### 2. Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¯Ù…ÛŒÙ† Ø¬Ø¯ÛŒØ¯
```http
POST /api/admin/hierarchy/admins
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "username": "superadmin1",
  "password": "Super@123456",
  "name": "Super Admin 1",
  "admin_level": "super",
  "permissions": {
    "manage_listings": true,
    "manage_users": true,
    "view_analytics": true
  }
}
```

### 3. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§
```http
PUT /api/admin/hierarchy/admins/{id}/permissions
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "permissions": {
    "manage_listings": true,
    "manage_users": false,
    "view_analytics": true
  }
}
```

### 4. ØºÛŒØ±ÙØ¹Ø§Ù„/ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø¯Ù…ÛŒÙ†
```http
PATCH /api/admin/hierarchy/admins/{id}/status
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "is_active": false
}
```

### 5. Ø­Ø°Ù Ø§Ø¯Ù…ÛŒÙ†
```http
DELETE /api/admin/hierarchy/admins/{id}
Authorization: Bearer {admin_token}
```

### 6. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ (ÙÙ‚Ø· Master)
```http
GET /api/admin/hierarchy/activity-logs?page=1&limit=50
Authorization: Bearer {admin_token}
```

---

## ğŸ¨ Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡:

### Ø³Ù†Ø§Ø±ÛŒÙˆ 1: Master Admin ÛŒÚ© Super Admin Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯

```javascript
// Master Admin login
POST /api/auth/admin/login
{
  "username": "masteradmin",
  "password": "Master@123456"
}

// Ø§ÛŒØ¬Ø§Ø¯ Super Admin
POST /api/admin/hierarchy/admins
{
  "username": "superadmin1",
  "password": "Super@123456",
  "name": "Super Admin 1",
  "admin_level": "super",
  "permissions": {
    "manage_listings": true,
    "manage_users": true,
    "manage_payments": true,
    "view_analytics": true,
    "manage_categories": true,
    "manage_featured": true
  }
}
```

### Ø³Ù†Ø§Ø±ÛŒÙˆ 2: Super Admin ÛŒÚ© Admin Ø¹Ø§Ø¯ÛŒ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯

```javascript
// Super Admin login
POST /api/auth/admin/login
{
  "username": "superadmin1",
  "password": "Super@123456"
}

// Ø§ÛŒØ¬Ø§Ø¯ Admin Ø¹Ø§Ø¯ÛŒ
POST /api/admin/hierarchy/admins
{
  "username": "admin1",
  "password": "Admin@123456",
  "name": "Admin 1",
  "admin_level": "admin",
  "permissions": {
    "manage_listings": true,
    "view_analytics": true
  }
}
```

### Ø³Ù†Ø§Ø±ÛŒÙˆ 3: Master Admin Ø¯Ø³ØªØ±Ø³ÛŒ Super Admin Ø±Ø§ Ù…Ø­Ø¯ÙˆØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```javascript
// Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ payments
PUT /api/admin/hierarchy/admins/2/permissions
{
  "permissions": {
    "manage_listings": true,
    "manage_users": true,
    "manage_payments": false,  // â† Ø­Ø°Ù Ø¯Ø³ØªØ±Ø³ÛŒ
    "view_analytics": true,
    "manage_categories": true,
    "manage_featured": true
  }
}
```

### Ø³Ù†Ø§Ø±ÛŒÙˆ 4: Master Admin ÛŒÚ© Super Admin Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```javascript
// Ø­Ø°Ù Super Admin
DELETE /api/admin/hierarchy/admins/2
```

---

## ğŸ”’ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ù…Ù†ÛŒØªÛŒ:

### 1. Ø³Ù„Ø³Ù„Ù‡ Ù…Ø±Ø§ØªØ¨:
```
Master Admin
    â”œâ”€â”€ Super Admin 1
    â”‚   â”œâ”€â”€ Admin 1
    â”‚   â””â”€â”€ Admin 2
    â””â”€â”€ Super Admin 2
        â”œâ”€â”€ Admin 3
        â””â”€â”€ Admin 4
```

### 2. Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§:
- âŒ Super Admin Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Master Admin Ø±Ø§ Ø¨Ø¨ÛŒÙ†Ø¯
- âŒ Super Admin Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Super Admin Ø¯ÛŒÚ¯Ø±ÛŒ Ø¨Ø³Ø§Ø²Ø¯
- âŒ Admin Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡ÛŒÚ† Ø§Ø¯Ù…ÛŒÙ†ÛŒ Ø¨Ø³Ø§Ø²Ø¯
- âŒ Ù‡ÛŒÚ† Ú©Ø³ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Master Admin Ø±Ø§ Ø­Ø°Ù Ú©Ù†Ø¯

### 3. Ù„Ø§Ú¯ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§:
ØªÙ…Ø§Ù… ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯:
- Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¯Ù…ÛŒÙ†
- Ø­Ø°Ù Ø§Ø¯Ù…ÛŒÙ†
- ØªØºÛŒÛŒØ± Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§
- ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù†
- ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…

---

## ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³:

### admins (Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡)
```sql
- id
- username
- password
- name
- is_super_admin
- admin_level (master/super/admin)  â† Ø¬Ø¯ÛŒØ¯
- created_by                         â† Ø¬Ø¯ÛŒØ¯
- permissions (JSON)                 â† Ø¬Ø¯ÛŒØ¯
- is_active                          â† Ø¬Ø¯ÛŒØ¯
- last_login                         â† Ø¬Ø¯ÛŒØ¯
- created_at
- updated_at
```

### admin_activity_logs (Ø¬Ø¯ÛŒØ¯)
```sql
- id
- admin_id
- action
- target_type
- target_id
- details
- ip_address
- user_agent
- created_at
```

### admin_permissions (Ø¬Ø¯ÛŒØ¯)
```sql
- id
- admin_id
- permission_key
- permission_value
- granted_by
- created_at
- updated_at
```

---

## ğŸ§ª ØªØ³Øª Ú©Ù†ÛŒØ¯:

### 1. Ø§ÛŒØ¬Ø§Ø¯ Master Admin:
```bash
cd server
node database/create-master-admin.js
```

### 2. ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„:
```
URL: http://localhost:5173/admin
Username: masteradmin
Password: Master@123456
```

### 3. Ø§ÛŒØ¬Ø§Ø¯ Super Admin:
- Ø¨Ù‡ Ø¨Ø®Ø´ "Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§" Ø¨Ø±ÙˆÛŒØ¯
- Ø¯Ú©Ù…Ù‡ "Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø¯Ù…ÛŒÙ†" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
- Ø³Ø·Ø­: Super Admin
- Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
- Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯

### 4. ØªØ³Øª Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§:
- Ø¨Ø§ Super Admin Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†ÛŒØ¯
- Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Super Admin Ø¯ÛŒÚ¯Ø±ÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯ â†’ Ø¨Ø§ÛŒØ¯ Ø®Ø·Ø§ Ø¨Ø¯Ù‡Ø¯
- Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Master Admin Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯ â†’ Ù†Ø¨Ø§ÛŒØ¯ Ø¨Ø¨ÛŒÙ†ÛŒØ¯

---

## âœ… Ù…Ø²Ø§ÛŒØ§:

1. **Ø§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§:** Ø³Ù„Ø³Ù„Ù‡ Ù…Ø±Ø§ØªØ¨ Ù…Ø´Ø®Øµ Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚
2. **Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±ÛŒ:** Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ…
3. **Ù‚Ø§Ø¨Ù„ÛŒØª Ø±Ø¯ÛŒØ§Ø¨ÛŒ:** Ù„Ø§Ú¯ ØªÙ…Ø§Ù… ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§
4. **Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ:** Ø§Ù…Ú©Ø§Ù† Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±
5. **Ú©Ù†ØªØ±Ù„ Ú©Ø§Ù…Ù„:** Master Admin Ú©Ù†ØªØ±Ù„ Ú©Ø§Ù…Ù„ Ø¯Ø§Ø±Ø¯

---

## ğŸš€ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡!

```bash
# 1. Ø§Ø¬Ø±Ø§ÛŒ Migration
cd server
node database/create-master-admin.js

# 2. Restart Ø³Ø±ÙˆØ±Ù‡Ø§
cd ..
restart-servers.bat

# 3. ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„
# URL: http://localhost:5173/admin
# Username: masteradmin
# Password: Master@123456
```

Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯! ğŸ‘‘
